:root{
    --bg1: url('../assets/olympus-bg.jpg');
    --bg2: url('../assets/gods/aphrodite/bg-aphrodite.jpg');
    --accent: #ef8ab4;
    --accent-2: #ffd8e8;
    --gold: #e0b94a;
    --glass: rgba(255, 255, 255, 0.06);
    --stage-height: 100vh;
}

html, body{height:100%; margin:0; font-family:'Cormorant Garamond', serif; color:#24172a; background: #000;}

.stage{
    position:fixed; inset:0; z-index:0;
    background: var(--bg1) center/cover no-repeat;
    transition: filter 600ms ease, background 600ms ease;
}

.stage.dimmed{
    filter: blur(6px) brightness(.6);
}

.overlay{
    position:fixed; inset:0; z-index:20; pointer-events:none;
}

.messsage{
    position:fixed; top:22%; left:50%; transform:translateX(-50%) translateY(12px);
    z-index:40; text-align:center; color:white; opacity:0;
    transition:opacity 520ms ease, transform 520ms ease;
}

.message.show{ opacity:1; transform:translateX(-50%) translateY(0); pointer-events:auto; }

.message h2{
    margin: 0 0 14px 0; font-size: 2rem; letter-spacing: .6px;
    background: linear-gradient(90deg, #fff 0%, var(--gold) 40%, #fff 100%);
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow: 0 6px 12px 24px rgba(0,0,0,0.45);
}

.action-btn{
    padding: 10px 22px; border-radius: 999px; border: 2px solid rgba(255, 255, 255, 0.12);
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
    color: white; font-size: 1rem; cursor: pointer;
    box-shadow: 0 6px 30px rgba(255, 160, 190, 0.06);
}

.clam-area{
    position: fixed; left: 50%; top: 48%; transform: translate(-50%, -50%);
    width: 360px; max-width: 86vw; height: 240px; z-index: 50; pointer-events: none;    display: flex; align-items: center; justify-content: center;
}

.clam-svg{ width: 100%; height: auto; display: block; }

#pearl{ transition: opacity 420ms ease; }

.open-top #top-shell-group{ transform-origin: 130px 110px; animation: topOpen 920ms cubic-bezier(.2, .9, .2, 1) forwards; }

@keyframes topOpen{
    0%{ transform: rotateX(0deg) translateY(0); }
    40%{ transform: rotateX(-65deg) translateY(-6px); }
    100%{ transform: rotateX(-110deg) translateY(-14px); }
}

.card-wrap{ position: absolute; left: 50%; top: 52%; transform: translate(-50%, -50%); width: 100%; z-index: 60; pointer-events: none; }

.card{
    width: 100%; background: linear-gradient(180deg, #fff, #fffef9);
    border-radius: 14px; box-shadow: 0 16px 48px rgba( 0, 0, 0, 0.28);
    transform-origin: center bottom;
    transform: perspective(900px) rotateX(78deg) translateZ(-200px) scale(.8);
    opacity: 0; transition: opcacity 240ms ease;
    overflow: hidden;
}

.card.reveal{
    animation: cardUnfurl 880ms cubic-bezier(.2, .9, .2, 1) forwards;
    opacity: 1;
}

@keyframes cardUnfurl{
    0%{ transform: perspective(900px) rotateX(78deg) translateZ(-200px) scale(.8); filter: blur(8px); }
    45%{ transform: perspective(900px) rotateX(18deg) translateZ(-40px) scale(.95); filter: blur(2px); }
    100%{ transform: perspective(900px) rotateX(0deg) translateZ(0) scale(1); filter: blur(0); }
} 

.card-inner{ padding: 16px; text-align: center; color: #57213b; }
.card-inner h3{ margin: 0 0 6px 0; font-size: 1.2rem; }
.card-inner p{ margin: 0 0 10px 0; color:#3b2a2f; }
.card-inner img{ width: 100%; border-radius: 10px; display: block; }

.bubble{ position: absolute; right: 12px; top: 12px; width: 8px; height: 8px; border-radius: 50%; background: rgba(255, 255, 255, 0.9); box-shadow: 0 0 16px rgba(255, 180, 220, 0.3); opacity: 0; transform: translateY(8px) scale(.5); }
.card.reveal .bubble{ animation: bubbleRise 900ms ease 250ms forwards; }
@keyframes bubbleRise{
    0%{ opacity: 0; transform: translateY(8px) scale(.5); }
    60%{ opacity: 1; transform: translateY(-12px) scale(1.05); }
    100%{ opacity: 0; transform: translateY(-28px) scale(0.9); }
}

.bottom-popup.show{ opacity: 1; pointer-events: auto; }
.btn-continue{ padding: 8px 16px; border-radius: 10px; border: none; cursor: pointer; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color: #29121e; font-weight: 600;}

.wiki{
    display: none; position: fixed; inset: 10% 8% 8% 8%; z-index: 70;
    background: rgba(255, 255, 255, 0.98); border-radius: 14px; padding: 22px;
    box-shadow: 0 24px 80px rgba(0,0,0,0.45); overflow: auto; color: #222;
}

.wiki.show{ display: flex; gap: 24px; align-items: flex-start; }
.wiki .left{ flex: 2;} .wiki .right{ flex: 1; max-width: 320px; }
.wiki img{ width: 100%; border-radius: 12px; display: block; margin-bottom: 12px;}
.wiki h2{ margin-top: 0; font-size: 1.8rem; color: #b04b78; }

.action-btn:focus, .btn-continue:focus { outline: 3px solid rgba(224, 185, 150, 0.45); outline-offset: 4px; }

@media (max-width: 720px) {
    .message h2{ font-size: 1.4rem;}
    .clam-area{ top: 48%; width: 300px; }
    .card{ transform-origin: center center; }
    .wiki{ inset: 8% 4% 6% 4%; flex-direction: column-reverse; }
}

